<!-- <div class="gnb-bg"></div> -->
<div class="header-inner-wrap">
    <div class="header-inner">   
        <h1 id="logo">
            <a title="현대로보틱스 로고, 클릭시 메인페이지로 이동" href="javascript:void(0)">
                <img src="/hyundai_robotics/assets/images/include/header/logo.png" alt="현대로보틱스">
            </a>
        </h1>
        <nav id="gnb">
            <ul class="depth1">
                <li>
                    <a class="depth-1-item" title="클릭시 제품소개 페이지 이동" href="javascript:void(0)">제품소개</a>
                    <div class="depth2">
                        <div>
                            <span class="title">방역로봇</span>
                            <ul class="depth2-list">
                                <li><a title="클릭시 HYUNDAI D1 페이지 이동" href="javascript:void(0)">HYUNDAI D1</a></li>
                                <li><a title="클릭시 HYUNDAI D2 페이지 이동" href="javascript:void(0)">HYUNDAI D2</a></li>
                            </ul>
                        </div>
                        <div>
                            <span class="title">서빙로봇</span>
                            <ul class="depth2-list">
                                <li><a title="클릭시 HYUNDAI S1 페이지 이동" href="javascript:void(0)">HYUNDAI S1</a></li>
                                <li><a title="클릭시 HYUNDAI T1 페이지 이동" href="javascript:void(0)">HYUNDAI T1</a></li>
                                <li><a title="클릭시 HYUNDAI T5 페이지 이동" href="javascript:void(0)">HYUNDAI T5</a></li>
                                <li><a title="클릭시 HYUNDAI T6 페이지 이동" href="javascript:void(0)">HYUNDAI T6</a></li>
                                <li><a title="클릭시 HYUNDAI T8 페이지 이동" href="javascript:void(0)">HYUNDAI T8</a></li>
                            </ul>
                        </div>
                        <div>
                            <span class="title">호텔로봇</span>
                            <ul class="depth2-list">
                                <li><a href="javascript:void(0)">HYUNDAI W3</a></li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a class="depth-1-item" title="클릭시 로봇활용 소개 페이지 이동" href="javascript:void(0)">로봇활용사례</a>
                    <div class="depth2">
                        <div>
                            <span class="title">방역로봇</span>
                            <ul class="depth2-list">
                                <li><a title="클릭시 기업 페이지 이동" href="javascript:void(0)">기업</a></li>
                                <li><a title="클릭시 숙박 페이지 이동" href="javascript:void(0)">숙박</a></li>
                                <li><a title="클릭시 의료 페이지 이동" href="javascript:void(0)">의료</a></li>
                                <li><a title="클릭시 문화 페이지 이동" href="javascript:void(0)">문화</a></li>
                            </ul>
                        </div>
                        <div>
                            <span class="title">서빙로봇</span>
                            <ul class="depth2-list">
                                <li><a title="클릭시 음식점 페이지 이동" href="javascript:void(0)">음식점</a></li>
                            </ul>
                        </div>
                        <div>
                            <span class="title">호텔로봇</span>
                            <ul class="depth2-list">
                                <li><a title="클릭시 호텔 페이지 이동" href="javascript:void(0)">호텔</a></li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a class="depth-1-item no-depth-2" title="클릭시 상담신청 페이지 이동" href="javascript:void(0)">상담신청</a>
                </li>
                <li>
                    <a class="depth-1-item no-depth-2" title="클릭시 상담신청 페이지 이동" href="javascript:void(0)">시연신청</a>
                </li>
                <li>
                    <a class="depth-1-item" title="클릭시 상담신청 페이지 이동" href="javascript:void(0)">고객지원</a>
                    <div class="depth2">
                        <div>
                            <ul class="depth2-list">
                                <li><a title="클릭시 A/S 페이지 이동" href="javascript:void(0)">A/S 신청</a></li>
                                <li><a title="클릭시 FAQ 페이지 이동" href="javascript:void(0)">FAQ</a></li>
                                <li><a title="클릭시 브로셔/카달로그 페이지 이동" href="javascript:void(0)">브로슈어/카탈로그</a></li>
                                <li><a title="클릭시 뉴스 페이지 이동" href="javascript:void(0)">뉴스</a></li>
                                <li><a title="클릭시 자료실 페이지 이동" href="javascript:void(0)">자료실</a></li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li>
                    <a class="depth-1-item" title="클릭시 상담신청 페이지 이동" href="javascript:void(0)">사업제안</a>
                    <div class="depth2">
                        <div>
                            <ul class="depth2-list">
                                <li><a title="클릭시 제휴문의 페이지 이동" href="javascript:void(0)">제휴문의</a></li>
                                <li><a title="클릭시 대리점 모집 문의 페이지 이동" href="javascript:void(0)">대리점 모집 문의</a></li>
                            </ul>
                        </div>
                    </div>
                </li>
            </ul>
        </nav>
        <div class="lang-wrap">
            <ul class="language-tab">
                <li class="active"><a title="국문탭" href="javascript:void(0)">KOR</a></li>
                <li><a title="영문탭" href="javascript:void(0)">ENG</a></li>
            </ul>
            <a class="ham-btn" href="javascript:void(0)" title="GNB 메뉴 버튼">
            </a>
        </div>
    </div>
</div>
<script>
    // 헤더 스크립트 : headerScript()
    function headerScript() {

        const header = $("header")
        const gnb = $("#gnb")
        const logo = $("#logo")
        const languageTab = $('.language-tab')
        const depth1Li = $('#gnb .depth1 > li')
        const depth2 = $('#gnb .depth2')
        const hamBtn = $('.ham-btn')
        const gnbLine = $("<div class='line'></div>")

        // PC GNB
        function pcHeaderGnb() {

            // 초기값
            function init() {
                
                header.removeClass("mobile-type") //PC일때 모바일 타입 클래스 제거
                gnb.off("mouseover")
                depth1Li.find('a').off("focus")
                hamBtn.off('click')
                depth1Li.off('click')
                depth2.show()
                header.removeClass('active')
                gnb.removeClass('active')
                hamBtn.removeClass('x-btn')
            }
            init()

            //GNB에 마우스오버시 GNB 활성화
            gnb.on("mouseover",function(){
                header.addClass('active')
            })
            //헤더에서 마우스리브시 GNB 비활성화
            header.on("mouseleave",function(){
                header.removeClass('active')
            })
            //로고에 탭 접근시 GNB 활성화
            depth1Li.find('a').on("focus",function(){
                header.addClass('active')
            })
            //랭귀지탭에서 영문탭에서 포카스아웃시 GNB 비활성화
            languageTab.find('li:last-child > a').on("focusout",function(){
                header.removeClass('active')
            })

        } 

        // MOBILE GNB
        function mobileHeaderGnb() {

            // 초기값
            function init() {
                header.addClass("mobile-type") //MOBILE일때 모바일타입 클래스 추가
                depth1Li.off('click')
                header.off("mouseleave")
                hamBtn.off('click')
                header.removeClass('active')
                gnb.removeClass('active')
                hamBtn.removeClass('x-btn')
                depth2.slideUp()
            }
            init()
        
            // 아코디언메뉴 클릭할 경우 2depth 활성화
            depth1Li.on("click",function(){
                depth1Li.not($(this)).find('.depth2').slideUp()
                $(this).find('.depth2').slideToggle();
                $(this).toggleClass('active').siblings().removeClass('active');
            })

            hamBtn.on("click",function(){
                header.toggleClass('active');
                hamBtn.toggleClass('x-btn')
                $('#header.mobile-type nav').toggleClass('active');
            })

        }

        //GNB 라인 인터렉션 (선이 따라다니는 모션)  
        function gnbLineEvent() {

            function init() {
                // 초기값 : gnb에 line 생성 및 line을 depth1에 위치시킴
                gnbLine.appendTo(gnb)
                gnbLine.stop().animate({width:0,left:depth1Li.offset().left},0)
            }
            init()

            depth1Li.on("mouseover",function(){
                gnbLine.stop().animate({width:$(this).width(),left:$(this).offset().left},400)
            })
            header.on("mouseleave",function(){
                gnbLine.stop().animate({width:0},400)
            })

        }

        // 헤더 반응형 (리사이즈 Resize)
        function headerResize() {

            function resizeScript() {

                var width = $(window).width()

                if(width > 768) {
                    pcHeaderGnb()
                    gnbLineEvent()
                } else {
                    mobileHeaderGnb()
                }

            } resizeScript()
            
            $(window).resize( $.throttle( 500, function(e) {
                resizeScript()
            }))

        }
        headerResize()

        // 스크롤시 배경색추가
        function scrollScript() {

            function headerBgShow() {

                if($(document).scrollTop() > 0 || $('#titleVisual').hasClass('no-bg')){
                    $('#header').addClass('bg');
                }else{
                    $('#header').removeClass('bg');
                }

            } headerBgShow()

            $(document).on('scroll', function(){

                headerBgShow()

            });

        } scrollScript()

        // 언어변경 탭
        function lenguageChange() {

            $('#header .language-tab > li').on('click', function(){
                $(this).addClass('active').siblings('li').removeClass('active');
            });

        } lenguageChange()

    }
    headerScript()

</script>